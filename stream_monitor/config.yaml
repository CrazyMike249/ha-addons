map:
  - config:rw
name: Stream Metadata Monitor
version: 2.0.0
slug: stream_monitor
description: Uniwersalny monitor metadanych stream√≥w dla wybranych media_player w Home Assistant
startup: services
boot: auto
arch:
  - amd64
  - armv7
  - aarch64

options:
  interval: 5
  timestamps: true

  # Lista encji media_player do monitorowania
  players:
    - media_player.android_tv_cast
    - media_player.vlc

  # WebSocket API Home Assistant
  ha_url: "ws://homeassistant.local:8123/api/websocket"

  # REST API Home Assistant (do fallbacku, gdy WebSocket nie poda URL)
  ha_http_url: "http://supervisor/core/api"

  # Long-Lived Access Token
  ha_token: ""

schema:
  interval: int
  timestamps: bool

  players:
    - str

  ha_url: str
  ha_http_url: str
  ha_token: str

map:
  - config:rw
